#! /bin/bash

# Custom dmenu options
# shellcheck disable=2034
DMENU_LINES=10

DMENU_HEIGHT=18

DMENU_FONT="Cascadia Code"
DMENU_FONTSIZE=12

DMENU_BG="#3B4252"
DMENU_FG="#88C0D0"

# Other variables
DMENU_EDITOR="emacsclient -c -a 'emacs'"
# DMENU_EDITOR=$VISUAL
# DMENU_EDITOR=$EDITOR

DMENU_TERM="kitty"
# DMENU_TERM="xterm"
# DMENU_TERM="alacritty"

# Launch dmenu with all flags
DMENU() {
  input=$( echo -e "$1" \
            | dmenu -i \
                    -p "$2" \
                    -l "$DMENU_LINES" \
                    -fn "$DMENU_FONT":pixelsize="$DMENU_FONTSIZE" \
                    -nb $DMENU_BG -nf $DMENU_FG \
                    -sb $DMENU_FG -sf $DMENU_BG
         )
}

DMENU_PASS() {
  input=$( echo -e "" \
            | dmenu -i \
                    -p "$1" \
                    -fn "$DMENU_FONT":pixelsize="$DMENU_FONTSIZE" \
                    -nb $DMENU_BG -nf $DMENU_BG \
                    -sb $DMENU_FG -sf $DMENU_BG
         )
}

# Some actions require confirmation
confirm() {
  DMENU "Yes\nNo" "$1"
  if [[ $input != "Yes" ]] ; then
    echo "Interrupted by user"
    exit 0
  fi
}
